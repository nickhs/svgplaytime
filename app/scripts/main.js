/* global domready, Snap */'use strict';var size = 50;var strokeWidth = 1;var speed = 100;var done = {};function drawLine(startx, starty, endx, endy) {    if (endx - size > window.innerWidth || endx + size < 0) {        // console.log('stopping', startx, starty, endx, endy);        return;    }    if (endy - size > window.innerHeight || endy + size < 0) {        // console.log('stopping', startx, starty, endx, endy);        return;    }    var direction;    var point;    var sortedX = [startx, endx].sort();    var sortedY = [starty, endy].sort();    if (startx === endx) {        direction = 'v';        point = sortedY[0] + ',' + sortedY[1] + ',' + direction + ',' + sortedX[0];    } else if (starty === endy) {        direction = 'h';        point = sortedX[0] + ',' + sortedX[1] + ',' + direction + ',' + sortedY[0];    } else {        console.error('No movement on line');    }    if (done[point]) {        // console.log('stopping', startx, starty, point);        return;    }    console.log('drawline', startx, starty, point);    done[point] = true;    var line = window.s.paper.line(startx, starty, startx, starty);    line.attr({        stroke: '#eaeaea',        strokeWidth: strokeWidth,    });    /*    line.attr({        x2: endx,        y2: endy    });    */    var tmp = {};    Snap.animate(0, 1, function(val) {        if (direction === 'v') {            tmp.y2 = (endy * val);        } else {            tmp.x2 = (endx * val);        }        line.attr(tmp);    }, speed, null, function() {        drawLine(endx, endy, endx, endy + size);        drawLine(endx, endy, endx, endy - size);        drawLine(endx, endy, endx + size, endy);        drawLine(endx, endy, endx - size, endy);    });}function startCheckerBoard() {    document.querySelector('h1.ma-name').classList.remove('hidden');    window.addEventListener('resize', function() {        window.s.paper.clear();        drawLine(0, 0, size, 0);        drawLine(0, 0, 0, size);    });    drawLine(0, 0, size, 0);    drawLine(0, 0, 0, size);}function startLineAnimation() {    document.querySelector('h1.ma-name').classList.add('hidden');    var s = window.s;    var top = window.innerHeight / 4 + 96;    var nickhs = s.paper.text(0, top, 'NICKHS'.split(''));    var width = window.innerWidth - s.select('text').node.clientWidth;    width = width / 2;    // var textLength = nickhs.node.getComputedTextLength();    nickhs.attr({        stroke: '#333',        strokeWidth: 3,        'stroke-dasharray': 450,        x: width,        fill: '#fafafa'    });    nickhs.animate({        'stroke-dashoffset': 3600,    }, 5000, null, function() {        console.log('animation done');    });}function clear() {    window.s.paper.clear();}domready(function() {    console.log('We are a go!');    window.s = new Snap('#main-svg');    startCheckerBoard();});